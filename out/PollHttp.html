<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Class: PollHttp</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Class: PollHttp</h1>

    




<section>

<header>
    
        <h2><span class="attribs"><span class="type-signature"></span></span>PollHttp<span class="signature">(first_poll, second_poll, subsequent_polls)</span><span class="type-signature"></span></h2>
        
            <div class="class-description">A wrapper for the request module that will poll a URL a specific number of times
or until a condition of the response is met. Useful for when you have sent a request
to an external API which takes a limited but unknown time to process and requires 
polling until the result is available</div>
        
    
</header>

<article>
    <div class="container-overview">
    
        

    
    <h2>Constructor</h2>
    

    
    <h4 class="name" id="PollHttp"><span class="type-signature"></span>new PollHttp<span class="signature">(first_poll, second_poll, subsequent_polls)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Create an instance of a request
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>first_poll</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            
                <td class="default">
                
                    1000
                
                </td>
            

            <td class="description last">The number of milliseconds before sending the first request</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>second_poll</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            
                <td class="default">
                
                    500
                
                </td>
            

            <td class="description last">The number of milliseconds before sending the second request_promise</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>subsequent_polls</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            
                <td class="default">
                
                    0.1
                
                </td>
            

            <td class="description last">A number less than 1, acting as an exponential multiplier for the second_poll query, so that there is an increasing delay between each 
subsequent request. For example, this defaults to 0.1,and if second_poll is 1000, then the delay before the next poll will be 1100, then the next delay will be 1210.
This is to prevent you "spamming" the source server with hundreds of consecutive responses. The smaller the number, the smaller the delay between requests.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="index.js.html">index.js</a>, <a href="index.js.html#line21">line 21</a>
    </li></ul></dd>
    

    

    

    
</dl>




















    
    </div>

    

    

    

    

    

    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    
    <h4 class="name" id="request"><span class="type-signature">(async) </span>request<span class="signature">(request_options, poll_options)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Create a request to a URL
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>request_options</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">These are the same options as the request module and will get passed to that module</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>poll_options</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">An object containing polling options specific for this request
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>first_poll</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last">The number of milliseconds before sending the first request</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>second_poll</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last">The number of milliseconds before sending the second request_promise</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>subsequent_polls</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last">A number less than 1, acting as an exponential multiplier for the second_poll query, so that there is an increasing delay between each 
subsequent request. For example, this defaults to 0.1,and if second_poll is 1000, then the delay before the next poll will be 1100, then the next delay will be 1210.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#endRequestCallback">endRequestCallback</a></span>


            
            </td>

            

            

            <td class="description last">A function that gets passed the response and should return a true or false value depending on whether or not</td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="index.js.html">index.js</a>, <a href="index.js.html#line39">line 39</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="PollHttp.html">PollHttp</a></li></ul><h3><a href="global.html">Global</a></h3>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.3</a> on Tue Jan 28 2020 09:17:32 GMT-0500 (Eastern Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>